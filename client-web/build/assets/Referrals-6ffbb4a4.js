import{ag as h,ah as p,l as e,a5 as i,ai as b,aI as k,a3 as o,X as l,Y as f,an as _,a9 as C,aR as I}from"./index-451a7b86.js";var c={},w=p;Object.defineProperty(c,"__esModule",{value:!0});var v=c.default=void 0,L=w(h()),z=e,A=(0,L.default)((0,z.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4zm2 0c.2-.71 3.3-2 6-2 2.69 0 5.78 1.28 6 2H3zm17-3v-3h3v-2h-3V7h-2v3h-3v2h3v3h2z"}),"PersonAddAlt");v=c.default=A;var d={},R=p;Object.defineProperty(d,"__esModule",{value:!0});var m=d.default=void 0,q=R(h()),B=e,M=(0,q.default)((0,B.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");m=d.default=M;const x="/coin.png",P=a=>{const s={refLink:""};return a.refLink||(s.refLink="Link is required"),s},D=({})=>{const a=i(r=>r.user._id),s=i(r=>r.user.walletAddress),g=i(r=>r.setBalance),y=i(r=>r.user.referrerId),{showSnackbar:n}=b(),t=k({initialValues:{refLink:""},validate:P,onSubmit:async({refLink:r},{setSubmitting:u})=>{if(y){n("error","You already added your referral");return}if(r===a){n("error","You cannot be your referral");return}u(!0);try{const Y=await C().post("/users/referral",{referrerId:r}),S=await I(s);g(S.data.balance),n("success","Referral successfully added")}catch{n("error","Something went wrong")}u(!1)}}),j=()=>{navigator.clipboard.writeText(a),n("success","Link copied")};return e.jsx(o,{sx:{display:"flex",justifyContent:"center",padding:"20px"},children:e.jsxs(o,{children:[e.jsx(o,{sx:{fontSize:50,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(v,{color:"primary",fontSize:"inherit"})}),e.jsxs(l,{sx:{justifyContent:"center",alignItems:"center",display:"flex"},children:["Gift friends 25",e.jsx("img",{alt:"",style:{width:"16px",height:"16px"},src:x}),"and receive 25",e.jsx("img",{alt:"",style:{width:"16px",height:"16px"},src:x}),". Send friends invite with your personal invitation code"]}),e.jsx(l,{sx:{fontWeight:"bold",textAlign:"center",fontSize:"18px"},children:"Your invitation code"}),e.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"},children:e.jsx(f,{onClick:j,variant:"contained",id:"shareCode",startIcon:e.jsx(m,{}),children:a})}),e.jsx(l,{sx:{fontWeight:"bold",textAlign:"center",fontSize:"18px",margin:"10px 0"},children:"Or enter your referral code to earn coins."}),e.jsxs("form",{onSubmit:t.handleSubmit,style:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(_,{margin:"dense",label:"Your referral code",name:"refLink",type:"text",fullWidth:!0,inputProps:{autoComplete:"off"},variant:"outlined",onChange:t.handleChange,value:t.values.refLink,error:!!t.touched.refLink&&!!t.errors.refLink}),e.jsx(f,{disabled:t.isSubmitting,variant:"contained",id:"submitEarn",type:"submit",children:"Earn coins"})]})]})})};export{D as default};
